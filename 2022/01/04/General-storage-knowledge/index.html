<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="[TOC] RAID的分类： 参考：https:&#x2F;&#x2F;www.zhihu.com&#x2F;question&#x2F;20131784  HDD 全称：Hard Disk Drive，缩写：HDD 概念：有时为了与固态硬盘相区分称“机械硬盘”或“传统硬盘”）是电脑上使用坚硬的旋转盘片为基础的非易失性存储器，它在平整的磁性表面存储和检索数字数据，数据通过离磁性表面很近的磁头由电磁流来改变极性的方式被写入到磁盘上，数据可">
<meta property="og:type" content="article">
<meta property="og:title" content="General storage knowledge">
<meta property="og:url" content="http://example.com/2022/01/04/General-storage-knowledge/index.html">
<meta property="og:site_name" content="Mars">
<meta property="og:description" content="[TOC] RAID的分类： 参考：https:&#x2F;&#x2F;www.zhihu.com&#x2F;question&#x2F;20131784  HDD 全称：Hard Disk Drive，缩写：HDD 概念：有时为了与固态硬盘相区分称“机械硬盘”或“传统硬盘”）是电脑上使用坚硬的旋转盘片为基础的非易失性存储器，它在平整的磁性表面存储和检索数字数据，数据通过离磁性表面很近的磁头由电磁流来改变极性的方式被写入到磁盘上，数据可">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Intel_P3608_NVMe_flash_SSD%2C_PCI-E_add-in_card.jpg/300px-Intel_P3608_NVMe_flash_SSD%2C_PCI-E_add-in_card.jpg">
<meta property="og:image" content="https://upload.wikimedia.org/wikipedia/commons/thumb/a/ad/Ssd_960.jpg/300px-Ssd_960.jpg">
<meta property="og:image" content="https://www.thomas-krenn.com/de/wikiDE/images/e/e0/Linux-storage-stack-diagram_v4.10.png">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/2062729-a630f1d47b7ba148.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200">
<meta property="article:published_time" content="2022-01-04T02:38:20.000Z">
<meta property="article:modified_time" content="2022-01-04T02:39:29.417Z">
<meta property="article:author" content="Javie Chen">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Intel_P3608_NVMe_flash_SSD%2C_PCI-E_add-in_card.jpg/300px-Intel_P3608_NVMe_flash_SSD%2C_PCI-E_add-in_card.jpg">

<link rel="canonical" href="http://example.com/2022/01/04/General-storage-knowledge/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>General storage knowledge | Mars</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Mars</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Make the world better place.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>Schedule</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>Commonweal 404</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/01/04/General-storage-knowledge/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Javie Chen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mars">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          General storage knowledge
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-01-04 10:38:20 / Modified: 10:39:29" itemprop="dateCreated datePublished" datetime="2022-01-04T10:38:20+08:00">2022-01-04</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>[TOC]</p>
<h2 id="RAID的分类："><a href="#RAID的分类：" class="headerlink" title="RAID的分类："></a>RAID的分类：</h2><ol>
<li>参考：<a target="_blank" rel="noopener" href="https://www.zhihu.com/question/20131784">https://www.zhihu.com/question/20131784</a></li>
</ol>
<h2 id="HDD"><a href="#HDD" class="headerlink" title="HDD"></a>HDD</h2><ol>
<li>全称：<strong>H</strong>ard <strong>D</strong>isk <strong>D</strong>rive，缩写：<strong>HDD</strong></li>
<li>概念：有时为了与<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98">固态硬盘</a>相区分称“<strong>机械硬盘</strong>”或“<strong>传统硬盘</strong>”）是<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%94%B5%E8%84%91">电脑</a>上使用坚硬的旋转盘片为基础的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E9%9D%9E%E6%8F%AE%E7%99%BC%E6%80%A7%E8%A8%98%E6%86%B6%E9%AB%94">非易失性存储器</a>，它在平整的磁性表面存储和检索数字数据，数据通过离磁性表面很近的磁头由电磁流来改变极性的方式被写入到磁盘上，数据可以通过盘片被读取，原理是磁头经过盘片的上方时盘片本身的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%A3%81%E5%9C%BA">磁场</a>导致读取线圈中电气信号改变。硬盘的读写是采用<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/w/index.php?title=%E5%8D%8A%E9%9A%A8%E6%A9%9F%E5%AD%98%E5%8F%96&action=edit&redlink=1">半随机存取</a>的方式，可以以任意顺序读取硬盘中的资料[<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%A1%AC%E7%9B%98#cite_note-2">2]</a>，但读取不同位置的资料速度不相同。硬盘包括一至数片高速转动的盘片以及放在<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%89%A7%E8%A1%8C%E5%99%A8">执行器</a>悬臂上的磁头。早期的硬盘存储介质是可替换的，不过现在硬盘的存储介质一般不能更换，盘片与磁头是一起被密封在硬盘驱动器内。硬盘有一个有着过滤措施的气孔，用来平衡工作时产生的热量导致的硬盘内外的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%B0%94%E5%8E%8B">气压差</a>。硬盘是由<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/IBM">IBM</a>在1956年开始使用[<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%A1%AC%E7%9B%98#cite_note-IBM350-3">3]</a>，在1960年代初成为通用式电脑中主要的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/w/index.php?title=%E8%BC%94%E5%8A%A9%E5%AD%98%E6%94%BE%E8%A3%9D%E7%BD%AE&action=edit&redlink=1">辅助存放设备</a>，随着技术的进步，硬盘也成为<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%9C%8D%E5%8A%A1%E5%99%A8">服务器</a>及<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%80%8B%E4%BA%BA%E9%9B%BB%E8%85%A6">个人电脑</a>的主要组件。</li>
<li>reference：<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%A1%AC%E7%9B%98">https://zh.wikipedia.org/wiki/硬盘</a></li>
</ol>
<h2 id="SATA-SSD"><a href="#SATA-SSD" class="headerlink" title="SATA SSD"></a>SATA SSD</h2><ol>
<li>概念：<strong>固态硬盘</strong>或<strong>固态驱动器</strong>（英语：Solid-state drive或Solid-state disk，简称<strong>SSD</strong>）是一种以集成电路制作的电脑存储设备。可以用<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E9%9D%9E%E6%8F%AE%E7%99%BC%E6%80%A7%E8%A8%98%E6%86%B6%E9%AB%94">非易失性存储器</a>（主要以<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E9%97%AA%E5%AD%98">闪存</a>中的 <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/NAND_Flash">NAND Flash</a>）作为永久性存储设备，也可以用<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%8F%AE%E7%99%BC%E6%80%A7%E8%A8%98%E6%86%B6%E9%AB%94">易失性存储器</a>（例如<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/DRAM">DRAM</a>）作为临时性存储设备。固态硬盘常采用<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/SATA">SATA</a>、<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/PCI_Express">PCI Express</a>、<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/MSATA">mSATA</a>、<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/M.2">M.2</a>、<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/ZIF">ZIF</a>、<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E9%AB%98%E6%8A%80%E8%A1%93%E9%85%8D%E7%BD%AE">IDE</a>、<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/U.2">U.2</a>、<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/CompactFlash">CF</a>、<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/w/index.php?title=CFast&action=edit&redlink=1">CFast</a>等接口。目前由于每单位价格及最大存储容量与机械硬盘有差距，固态硬盘暂时无法完全取代<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%A1%AC%E7%9B%98">机械式硬盘</a>。</li>
<li>reference：<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98">https://zh.wikipedia.org/wiki/固态硬盘</a></li>
</ol>
<h2 id="NVMe（Non-Volatile-Memory-express）"><a href="#NVMe（Non-Volatile-Memory-express）" class="headerlink" title="NVMe（Non-Volatile Memory express）"></a>NVMe（Non-Volatile Memory express）</h2><ol>
<li>全称：NVMEHCIS:Non-Volatile Memory Host Controller Interface Specification</li>
<li>概念：<strong>NVM Express</strong>（缩写<strong>NVMe</strong>），或称<strong>非易失性内存主机控制器接口规范</strong>（英语：<strong>N</strong>on-<strong>V</strong>olatile <strong>M</strong>emory <strong>H</strong>ost <strong>C</strong>ontroller <strong>I</strong>nterface <strong>S</strong>pecification，缩写：<strong>NVMHCIS</strong>），是一个逻辑设备接口<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%A0%87%E5%87%86">规范</a>。它是基于设备逻辑接口的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%8C%AF%E6%B5%81%E6%8E%92">总线</a>传输协议规范（相当于通讯协议中的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%BA%94%E7%94%A8%E5%B1%82">应用层</a>），用于访问通过<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/PCI_Express">PCI Express</a>（PCIe）总线附加的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E9%9D%9E%E6%8F%AE%E7%99%BC%E6%80%A7%E8%A8%98%E6%86%B6%E9%AB%94">非易失性存储器</a>介质（例如采用<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%BF%AB%E9%96%83%E8%A8%98%E6%86%B6%E9%AB%94">闪存</a>的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98">固态硬盘驱动器</a>），虽然理论上不一定要求PCIe总线协议。NVMe是一种协议，是一组允许SSD使用PCIe总线的软硬件标准；而PCIe是实际的物理连接通道。</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/File:Intel_P3608_NVMe_flash_SSD,_PCI-E_add-in_card.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Intel_P3608_NVMe_flash_SSD%2C_PCI-E_add-in_card.jpg/300px-Intel_P3608_NVMe_flash_SSD%2C_PCI-E_add-in_card.jpg" alt="img"></a></p>
<p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/File:Ssd_960.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/ad/Ssd_960.jpg/300px-Ssd_960.jpg" alt="img"></a></p>
<p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/PCI_Express">PCI Express</a>型、<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/M.2">M.2</a>型（下）</p>
<ol start="3">
<li><p>NVM代表非易失性存储器（non-volatile memory）的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E9%A6%96%E5%AD%97%E6%AF%8D%E7%B8%AE%E7%95%A5%E5%AD%97">首字母缩略字</a>，这是固态硬盘（SSD）的常见的闪存形式。此规范主要是为基于闪存的存储设备提供一个低延时、内部并发化的原生界面规范，也为现代<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/CPU">CPU</a>、电脑平台及相关应用提供原生存储并发化的支持[<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/NVM_Express#cite_note-1">1]</a>，令主机硬件和软件可以充分利用固态存储设备的并行化存储能力。相比此前<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%A1%AC%E7%A2%9F%E6%A9%9F">机械硬盘驱动器</a>（HDD）时代的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/AHCI">AHCI</a>（SATA下的协议），NVMe/NVMHCI降低了<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/I/O">I/O</a>操作等待时间、提升同一时间内的操作数、更大容量的操作队列等。依托于PCIe总线，NVMe设备可适用于各种支持PCIe总线的物理插槽上，包括标准尺寸的PCIe<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/w/index.php?title=Expansion_card&action=edit&redlink=1">扩展卡</a>（一般是4个PCIe通道）[<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/NVM_Express#cite_note-2">2]</a>、采用<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/U.2">U.2</a>物理连接界面（SFF-8639）的2.5英寸/3.5英寸标准尺寸固态硬盘驱动器、[<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/NVM_Express#cite_note-3">3]</a>[<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/NVM_Express#cite_note-4">4]</a><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/SATA_Express">SATA Express</a>总线（兼容于PCIe）的设备、<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/M.2">M.2</a>规格扩展卡等。[<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/NVM_Express#cite_note-ahci-nvme-5">5]</a>此规范由NVMHCIS工作组负责管理。</p>
</li>
<li><p>参考：<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/NVM_Express">https://zh.wikipedia.org/wiki/NVM_Express</a></p>
</li>
<li><p>参考：<a target="_blank" rel="noopener" href="https://www.chinastor.com/baike/ssd/04103A942017.html">https://www.chinastor.com/baike/ssd/04103A942017.html</a></p>
</li>
</ol>
<h2 id="PMem"><a href="#PMem" class="headerlink" title="PMem"></a>PMem</h2><ol>
<li><p>全称：非易失性存储</p>
</li>
<li><p>概念：英特尔® 傲腾™ 持久内存(PMem) 是一款基于3DXpoint 介质，并具有内存形态的一种全新硬件（黑科技）。通常称为Persistent Memory。</p>
</li>
</ol>
<p>![image-20211203132338916](/Users/chenjiawei/Library/Application Support/typora-user-images/image-20211203132338916.png)</p>
<ol start="3">
<li>参考：<a target="_blank" rel="noopener" href="https://learnku.com/articles/59125">https://learnku.com/articles/59125</a></li>
</ol>
<h2 id="ACID理论"><a href="#ACID理论" class="headerlink" title="ACID理论:"></a>ACID理论:</h2><ol>
<li>全称:Atomic|Consistency|Isolation|Durability</li>
</ol>
<h3 id="Atomicity"><a href="#Atomicity" class="headerlink" title="Atomicity"></a>Atomicity</h3><p>Main article: <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Atomicity_(database_systems)">Atomicity (database systems)</a></p>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Database_transaction">Transactions</a> are often composed of multiple <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/SQL_syntax">statements</a>. <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Atomicity_(database_systems)">Atomicity</a> guarantees that each transaction is treated as a single “unit”, which either succeeds completely, or fails completely: if any of the statements constituting a transaction fails to complete, the entire transaction fails and the database is left unchanged. An atomic system must guarantee atomicity in each and every situation, including power failures, errors and crashes.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ACID#cite_note-4">4]</a> A guarantee of atomicity prevents updates to the database occurring only partially, which can cause greater problems than rejecting the whole series outright. As a consequence, the transaction cannot be observed to be in progress by another database client. At one moment in time, it has not yet happened, and at the next it has already occurred in whole (or nothing happened if the transaction was cancelled in progress).</p>
<p>An example of an atomic transaction is a monetary transfer from bank account A to account B. It consists of two operations, withdrawing the money from account A and saving it to account B. Performing these operations in an atomic transaction ensures that the database remains in a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Data_consistency">consistent state</a>, that is, money is neither debited nor credited if either of those two operations fail.</p>
<h3 id="Consistency"><a href="#Consistency" class="headerlink" title="Consistency"></a>Consistency</h3><p>Main article: <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Consistency_(database_systems)">Consistency (database systems)</a></p>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Consistency_(database_systems)">Consistency</a> ensures that a transaction can only bring the database from one valid state to another, maintaining database <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Invariant_(computer_science)">invariants</a>: any data written to the database must be valid according to all defined rules, including <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Integrity_constraints">constraints</a>, <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Cascading_rollback">cascades</a>, <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Database_trigger">triggers</a>, and any combination thereof. This prevents database corruption by an illegal transaction, but does not guarantee that a transaction is <em>correct</em>. <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Referential_integrity">Referential integrity</a> guarantees the <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Unique_key">primary key</a> – <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Foreign_key">foreign key</a> relationship. </p>
<h3 id="Isolation"><a href="#Isolation" class="headerlink" title="Isolation"></a>Isolation</h3><p>Main article: <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Isolation_(database_systems)">Isolation (database systems)</a></p>
<p>Transactions are often executed <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Concurrent_computing">concurrently</a> (e.g., multiple transactions reading and writing to a table at the same time). <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Isolation_(database_systems)">Isolation</a> ensures that concurrent execution of transactions leaves the database in the same state that would have been obtained if the transactions were executed sequentially. Isolation is the main goal of <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Concurrency_control">concurrency control</a>; depending on the method used, the <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Race_condition">effects</a> of an incomplete transaction might not even be visible to other transactions. </p>
<h3 id="Durability"><a href="#Durability" class="headerlink" title="Durability"></a>Durability</h3><p>Main article: <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Durability_(database_systems)">Durability (database systems)</a></p>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Durability_(computer_science)">Durability</a> guarantees that once a transaction has been committed, it will remain committed even in the case of a system failure (e.g., power outage or <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Crash_(computing)">crash</a>). This usually means that completed transactions (or their effects) are recorded in <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Non-volatile_memory">non-volatile memory</a>.[<em><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Wikipedia:Citation_needed">citation needed</a></em>]</p>
<h2 id="CAP理论："><a href="#CAP理论：" class="headerlink" title="CAP理论："></a>CAP理论：</h2><ol>
<li><p>全称：Consistency|Availablility|Partition Tolerance</p>
</li>
<li><p>概念：In <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Theoretical_computer_science">theoretical computer science</a>, the <strong>CAP theorem</strong>, also named <strong>Brewer’s theorem</strong> after computer scientist <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Eric_Brewer_(scientist)">Eric Brewer</a>, states that any <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Distributed_data_store">distributed data store</a> can only provide <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Trilemma">two of the following three</a> guarantees:[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/CAP_theorem#cite_note-Gilbert_Lynch-1">1]</a>[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/CAP_theorem#cite_note-2">2]</a>[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/CAP_theorem#cite_note-3">3]</a></p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Consistency_model">Consistency</a></p>
<p>Every read receives the most recent write or an error.</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Availability">Availability</a></p>
<p>Every request receives a (non-error) response, without the guarantee that it contains the most recent write.</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Network_partitioning">Partition tolerance</a></p>
<p>The system continues to operate despite an arbitrary number of messages being dropped (or delayed) by the network between nodes.</p>
</li>
</ul>
<p>When a network partition failure happens, it must be decided whether to：</p>
<ol>
<li>cancel the operation and thus decrease the availability but ensure consistency or to</li>
<li>proceed with the operation and thus provide availability but risk inconsistency.</li>
</ol>
<p>Thus, if there is a network partition, one has to choose between consistency and availability. Note that consistency as defined in the CAP theorem is quite different from the consistency guaranteed in <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ACID">ACID</a> <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Database_transaction">database transactions</a>.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/CAP_theorem#cite_note-4">4]</a></p>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Eric_Brewer_(scientist)">Eric Brewer</a> argues that the often-used “two out of three” concept can be somewhat misleading because system designers only need to sacrifice consistency or availability in the presence of partitions, but that in many systems partitions are rare.</p>
</li>
<li><p>选择：</p>
<ol>
<li>AP:分布式NoSql</li>
<li>CP:Oracle RAC</li>
<li>CA:单机关系型数据库</li>
</ol>
</li>
<li><p>参考：<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/CAP_theorem">https://en.wikipedia.org/wiki/CAP_theorem</a></p>
</li>
</ol>
<h2 id="BASE理论："><a href="#BASE理论：" class="headerlink" title="BASE理论："></a>BASE理论：</h2><ol>
<li><p>定义：</p>
<ol>
<li>BasicallyAvailable</li>
<li>Soft-state</li>
<li>Eventually Consistent</li>
</ol>
</li>
<li><p>牺牲一致性换取高可用和分区容忍</p>
</li>
<li><p>参考：<a target="_blank" rel="noopener" href="https://www.chinastor.com/baike/ssd/04103A942017.html">https://www.chinastor.com/baike/ssd/04103A942017.html</a></p>
</li>
</ol>
<h2 id="SDS"><a href="#SDS" class="headerlink" title="SDS:"></a>SDS:</h2><ol>
<li><p>全称：SoftWare Defined Storage</p>
</li>
<li><p>参考自维基百科：</p>
<ol>
<li><strong>Software-defined storage</strong> (<strong>SDS</strong>) is a marketing term for <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Computer_data_storage">computer data storage</a> software for policy-based provisioning and management of data storage independent of the underlying hardware. Software-defined storage typically includes a form of <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Storage_virtualization">storage virtualization</a> to separate the storage hardware from the software that manages it.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Software-defined_storage#cite_note-1">1]</a> The software enabling a software-defined storage environment may also provide policy management for features such as <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Data_deduplication">data deduplication</a>, replication, <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Thin_provisioning">thin provisioning</a>, snapshots and backup.</li>
<li>Software-defined storage (SDS) hardware may or may not also have abstraction, pooling, or automation software of its own. When implemented as software only in conjunction with commodity servers with internal disks, it may suggest software such as a virtual or global <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/File_system">file system</a>. If it is software layered over sophisticated large storage arrays, it suggests software such as <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Storage_virtualization">storage virtualization</a> or <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Storage_resource_management">storage resource management</a>, categories of products that address separate and different problems. If the policy and management functions also include a form of <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Artificial_intelligence">artificial intelligence</a> to automate protection and recovery, it can be considered as intelligent abstraction.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Software-defined_storage#cite_note-2">2]</a> Software-defined storage may be implemented via appliances over a traditional <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Storage_area_network">storage area network</a> (SAN), or implemented as <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Network-attached_storage">network-attached storage</a> (NAS), or using <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Object_storage">object-based storage</a>. In March 2014 the <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Storage_Networking_Industry_Association">Storage Networking Industry Association</a> (SNIA) began a report on software-defined storage.</li>
</ol>
</li>
<li><p>参考自百度百科：</p>
<ol>
<li>将存储硬件中典型的存储控制功能抽离出来放到软件上，包括卷管理，Raid，数据保护，快照和复制等。</li>
</ol>
</li>
</ol>
<h2 id="DAS直连式存储："><a href="#DAS直连式存储：" class="headerlink" title="DAS直连式存储："></a>DAS直连式存储：</h2><ol>
<li>定义：直连式存储（DAS）是一种计算机存储，它直接连接到某台计算机且其他计算机无法获取。对于个人计算机用户来说，硬盘驱动器就是直连式存储的常见形式。</li>
<li>参考：<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E7%9B%B4%E8%BF%9E%E5%BC%8F%E5%AD%98%E5%82%A8/10276052?fr=aladdin">https://baike.baidu.com/item/直连式存储/10276052?fr=aladdin</a></li>
</ol>
<h2 id="NAS网络连接存储"><a href="#NAS网络连接存储" class="headerlink" title="NAS网络连接存储"></a>NAS网络连接存储</h2><ol>
<li><p>全称：NetWork Attached Storeage</p>
</li>
<li><p>定义：可以通过以太网方式接入并进行访问的存储形式</p>
<p>NAS（Network Attached Storage：网络附属存储）按字面简单说就是连接在网络上，具备资料存储功能的装置，因此也称为网络存储器。它是一种专用数据存储服务器。它以数据为中心，将存储设备与服务器彻底分离，集中管理数据，从而释放带宽、提高性能、降低总拥有成本、保护投资。其成本远远低于使用服务器存储，而效率却远远高于后者。目前国际著名的NAS企业有Netapp、EMC、OUO等。</p>
</li>
<li><p>参考：<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/NAS/3465615">https://baike.baidu.com/item/NAS/3465615</a></p>
</li>
</ol>
<h2 id="SAN存储区域网络"><a href="#SAN存储区域网络" class="headerlink" title="SAN存储区域网络"></a>SAN存储区域网络</h2><ol>
<li><p>全称：Storage Area NetWork</p>
</li>
<li><p>定义：存储区域网络（Storage Area Network，简称<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/SAN">SAN</a>）采用网状通道（Fibre Channel ，简称<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/FC">FC</a>，区别与Fiber Channel光纤通道）技术，通过FC交换机连接<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%AD%98%E5%82%A8%E9%98%B5%E5%88%97/1496275">存储阵列</a>和服务器<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E4%B8%BB%E6%9C%BA/455151">主机</a>，建立专用于<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/9827490">数据存储</a>的区域网络。SAN经过十多年历史的发展，已经相当成熟，成为业界的事实标准（但各个厂商的光纤交换技术不完全相同，其服务器和SAN存储有兼容性的要求）。</p>
<p>SAN专注于企业级存储的特有问题。当前企业存储方案所遇到问题的两个根源是：数据与应用系统紧密结合所产生的结构性限制，以及<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%B0%8F%E5%9E%8B%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%8E%A5%E5%8F%A3/10638565">小型计算机系统接口</a>(SCSI)标准的限制。大多数分析都认为SAN是未来企业级的存储方案，这是因为SAN便于集成，能改善数据可用性及网络性能，而且还可以减轻管理作业。</p>
</li>
<li><p>参考：<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%AD%98%E5%82%A8%E5%8C%BA%E5%9F%9F%E7%BD%91%E7%BB%9C/6091260?fromtitle=SAN&amp;fromid=10789152">https://baike.baidu.com/item/存储区域网络/6091260?fromtitle=SAN&amp;fromid=10789152</a></p>
</li>
<li><p>和NAS不同的是此类存储用于专用网络，无法和以太网互通：SAN和NAS都是通过网络的方式实现了业务服务器与存储设备的连接和访问，但两者是有别的前者在业务服务器上呈现的是一个磁盘，需要格式化成文件系统后使用；而后者在业务服务器上呈现的是文件系统。</p>
</li>
</ol>
<h2 id="SCSI小型计算机系统接口"><a href="#SCSI小型计算机系统接口" class="headerlink" title="SCSI小型计算机系统接口"></a>SCSI小型计算机系统接口</h2><ol>
<li><p>全称：Small Computer System Interface</p>
</li>
<li><p>定义：<strong>Small Computer System Interface</strong> (<strong>SCSI</strong>, <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Help:IPA/English">/ˈskʌzi/</a> <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Help:Pronunciation_respelling_key"><em>SKUZ-ee</em></a>)[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/SCSI#cite_note-1">1]</a> is a set of standards for physically connecting and transferring data between computers and <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Peripheral">peripheral devices</a>. The SCSI standards define <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/SCSI_command">commands</a>, protocols, electrical, optical and logical <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Interface_(computing)">interfaces</a>. The SCSI standard defines command sets for specific <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/SCSI_Peripheral_Device_Type">peripheral device types</a>; the presence of “unknown” as one of these types means that in theory it can be used as an interface to almost any device, but the standard is highly pragmatic and addressed toward commercial requirements. The initial <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Parallel_SCSI">Parallel SCSI</a> was most commonly used for <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Hard_disk_drive">hard disk drives</a> and <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Tape_drive">tape drives</a>, but it can connect a wide range of other devices, including scanners and <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/CD-ROM">CD</a> <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Optical_disc_drive">drives</a>, although not all controllers can handle all devices.</p>
<p>The ancestral SCSI standard, X3.131-1986, generally referred to as SCSI-1, was published by the X3T9 technical committee of the <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/American_National_Standards_Institute">American National Standards Institute</a> (ANSI) in 1986. SCSI-2 was published in August 1990 as X3.T9.2/86-109, with further revisions in 1994 and subsequent adoption of a multitude of interfaces. Further refinements have resulted in improvements in performance and support for ever-increasing storage data capacity.</p>
</li>
<li><p>参考：<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/SCSI">https://en.wikipedia.org/wiki/SCSI</a></p>
</li>
<li><p>SCSI定义命令、通信协议以及实体的电气特性，可并行，读写时不需要CPU时间片</p>
</li>
</ol>
<h2 id="SAS"><a href="#SAS" class="headerlink" title="SAS"></a>SAS</h2><ol>
<li><p>全称：Serial Attached SCSI</p>
</li>
<li><p>定义：In <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Computing">computing</a>, <strong>Serial Attached SCSI</strong> (<strong>SAS</strong>) is a point-to-point serial <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Communications_protocol">protocol</a> that moves data to and from <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Computer_storage">computer-storage</a> devices such as <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Hard_disk_drive">hard disk drives</a> and <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Tape_drive">tape drives</a>. SAS replaces the older <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Parallel_SCSI">Parallel SCSI</a> (Parallel Small Computer System Interface, usually pronounced “scuzzy” or “sexy”[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Serial_Attached_SCSI#cite_note-ThompsonThompson2003-3">3]</a>[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Serial_Attached_SCSI#cite_note-NCR1990-4">4]</a>) bus technology that first appeared in the mid-1980s. SAS, like its predecessor, uses the standard <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/SCSI_command">SCSI command set</a>. SAS offers optional compatibility with <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Serial_ATA">Serial ATA</a> (SATA), versions 2 and later. This allows the connection of SATA drives to most SAS <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Backplane">backplanes</a> or controllers. The reverse, connecting SAS drives to SATA backplanes, is not possible.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Serial_Attached_SCSI#cite_note-5">5]</a></p>
<p>The T10 technical committee of the <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/International_Committee_for_Information_Technology_Standards">International Committee for Information Technology Standards</a> (INCITS) develops and maintains the SAS protocol; the <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/SCSI_Trade_Association">SCSI Trade Association</a> (SCSITA) promotes the technology.</p>
</li>
<li><p>参考：<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Serial_Attached_SCSI">https://en.wikipedia.org/wiki/Serial_Attached_SCSI</a></p>
</li>
</ol>
<h2 id="AHCI"><a href="#AHCI" class="headerlink" title="AHCI"></a>AHCI</h2><ol>
<li><p>全称：Serial ATA Advanced Host Controller Interface</p>
</li>
<li><p>定义：The <strong>Advanced Host Controller Interface</strong> (<strong>AHCI</strong>) is a technical standard defined by <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Intel">Intel</a> that specifies the operation of <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Serial_ATA">Serial ATA</a> (SATA) <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Host_controller">host controllers</a> in a non-implementation-specific manner in its <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Intel_chips">motherboard chipsets</a>.</p>
<p>The specification describes a system memory structure for computer hardware vendors to exchange data between host system <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Computer_memory">memory</a> and attached <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Computer_storage_device">storage devices</a>. AHCI gives software developers and hardware designers a standard method for detecting, configuring, and programming SATA/AHCI adapters. AHCI is separate from the SATA 3 Gbit/s standard, although it exposes SATA’s advanced capabilities (such as <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Hot_swapping">hot swapping</a> and <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Native_Command_Queuing">native command queuing</a>) such that host systems can utilize them. For modern <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Solid-state_drive">solid state drives</a>, the interface has been superseded by <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/NVM_Express">NVMe</a>.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Advanced_Host_Controller_Interface#cite_note-1">1]</a></p>
<p>As of December 2020, the current version of the specification is 1.3.1.</p>
<p>AHCI是通用接口技术标准</p>
</li>
<li><p>参考：<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Advanced_Host_Controller_Interface">https://en.wikipedia.org/wiki/Advanced_Host_Controller_Interface</a></p>
</li>
</ol>
<h2 id="iSCSI"><a href="#iSCSI" class="headerlink" title="iSCSI"></a>iSCSI</h2><ol>
<li><p>iSCSI是一种存储设备远程映射技术。iSCSI则是通过TCP协议对SCSI进行封装的一种协议，也就是通过以太网传输SCSI协议的内容。</p>
</li>
<li><p>In computing, **iSCSI **is an acronym for <strong>Internet Small Computer Systems Interface</strong>, an <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Internet_Protocol">Internet Protocol</a> (IP)-based storage networking standard for linking data storage facilities. It provides <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Block-level_storage">block-level access</a> to <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Computer_data_storage">storage devices</a> by carrying <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/SCSI">SCSI</a> commands over a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/TCP/IP">TCP/IP</a> network. iSCSI is used to facilitate data transfers over <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Intranet">intranets</a> and to manage storage over long distances. It can be used to transmit data over <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Local_area_network">local area networks</a> (LANs), <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Wide_area_network">wide area networks</a> (WANs), or the <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Internet">Internet</a> and can enable location-independent data storage and retrieval.</p>
<p>The <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Protocol_(computing)">protocol</a> allows clients (called <em>initiators</em>) to send SCSI commands (<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/SCSI_CDB"><em>CDBs</em></a>) to storage devices (<em>targets</em>) on remote servers. It is a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Storage_area_network">storage area network</a> (SAN) protocol, allowing organizations to consolidate storage into <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Storage_array">storage arrays</a> while providing clients (such as database and web servers) with the illusion of locally attached SCSI disks.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ISCSI#cite_note-1">1]</a> It mainly competes with <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Fibre_Channel">Fibre Channel</a>, but unlike traditional Fibre Channel which usually requires dedicated cabling,[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ISCSI#cite_note-2">a]</a> iSCSI can be run over long distances using existing network infrastructure.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ISCSI#cite_note-3">2]</a> iSCSI was pioneered by IBM and Cisco in 1998 and submitted as a draft standard in March 2000.</p>
</li>
<li><p>参考：<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ISCSI">https://en.wikipedia.org/wiki/ISCSI</a></p>
</li>
</ol>
<h2 id="NVME-OF"><a href="#NVME-OF" class="headerlink" title="NVME-OF"></a>NVME-OF</h2><ol>
<li><p>全称：NVME over Fabric</p>
</li>
<li><p>解释：SSD硬件性能提高，软件成为了瓶颈。</p>
<ol>
<li>减少软件开销，出现了SPDK</li>
<li>把固态盘放到单独设备里面，存储独立出来供很多主机共享</li>
</ol>
<p>NVMe-oF在NVMe协议中的NVMe Transport部分进行了扩展，来支持In Band，以太网光纤通道等。</p>
<p>NMMe-oF分为两种：使用RDMA的和使用FC-NVMe的</p>
<p>前者：“nfiniBand、RoCE（RDMA over Converged Ethernet）和iWARP（internet Wide Area RDMA Protocol），RDMA支持在不涉及处理器的情况下将数据传输到两台计算机的内存，并提供低延迟和快速的数据传输。”</p>
<p>摘录来自: 英特尔亚太研发有限公司. “Linux开源存储全栈详解从Ceph 到容器存储。” Apple Books. </p>
</li>
<li><p><strong>NVM Express over Fabrics</strong> (NVMe-oF) is the concept of using a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Transport_layer">transport protocol</a> over a network to connect remote NVMe devices, contrary to regular NVMe where physical NVMe devices are connected to a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/PCI_Express#Serial_bus">PCIe bus</a> either directly or over a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/PCI_Express#SWITCH">PCIe switch</a> to a PCIe bus. In August 2017, a standard for using NVMe over <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Fibre_Channel">Fibre Channel</a> (FC) was submitted by the standards organization <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/International_Committee_for_Information_Technology_Standards">International Committee for Information Technology Standards</a> (ICITS), and this combination is often referred to as FC-NVMe or sometimes NVMe/FC.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/NVM_Express#cite_note-tech1-35">35]</a></p>
<p>As of May 2021, supported NVMe transport protocols are:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Fibre_Channel">FC</a>, FC-NVMe[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/NVM_Express#cite_note-tech1-35">35]</a>[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/NVM_Express#cite_note-36">36]</a></li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Transmission_Control_Protocol">TCP</a>, NVMe/TCP[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/NVM_Express#cite_note-37">37]</a></li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Ethernet">Ethernet</a>, <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/RDMA_over_Converged_Ethernet">RoCE</a> v1/v2 (<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Remote_direct_memory_access">RDMA</a> over <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Data_center_bridging">converged Ethernet</a>)[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/NVM_Express#cite_note-38">38]</a></li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/InfiniBand">InfiniBand</a>, NVMe over InfiniBand or NVMe/IB[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/NVM_Express#cite_note-39">39]</a></li>
</ul>
<p>The standard for NVMe over Fabrics was published by NVM Express, Inc. in 2016.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/NVM_Express#cite_note-40">40]</a>[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/NVM_Express#cite_note-41">41]</a></p>
<p>The following software implements the NVMe-oF protocol:</p>
<ul>
<li>Linux NVMe-oF <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/SCSI_initiator_and_target">initiator and target</a>.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/NVM_Express#cite_note-42">42]</a> RoCE transport was supported initially, and with Linux kernel 5.x, native support for TCP was added.</li>
<li>Storage Performance Development Kit (SPDK) NVMe-oF initiator and target drivers.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/NVM_Express#cite_note-44">44]</a> Both RoCE and TCP transports are supported.</li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/StarWind_Software">Starwind</a> NVMe-oF initiator and target for <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Microsoft_Windows">Microsoft Windows</a>, supporting both RoCE and TCP transports.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/NVM_Express#cite_note-hyper2-47">47]</a></li>
</ul>
</li>
<li><p>参考：<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/NVM_Express">https://en.wikipedia.org/wiki/NVM_Express</a></p>
</li>
</ol>
<h2 id="RDMA"><a href="#RDMA" class="headerlink" title="RDMA"></a>RDMA</h2><ol>
<li><p>全称：Remote Direct Memory Access</p>
</li>
<li><p>用途：解决网络传输中服务器端数据处理的延迟产生，它讲数据直接从一台计算机的内存传输到另外一台计算机，无需双方的操作系统的介入。</p>
</li>
<li><p>特性：low latency，low cpu overhead， high bandwidth</p>
</li>
<li><p>参考：<a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1420687">https://cloud.tencent.com/developer/article/1420687</a></p>
</li>
<li><p>In <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Computing">computing</a>, <strong>remote direct memory access</strong> (<strong>RDMA</strong>) is a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Direct_memory_access">direct memory access</a> from the <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Main_memory">memory</a> of one computer into that of another without involving either one’s <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Operating_system">operating system</a>. This permits high-throughput, low-<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Latency_(engineering)">latency</a> networking, which is especially useful in massively parallel <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Computer_cluster">computer clusters</a>.</p>
<p>RDMA supports <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Zero-copy">zero-copy</a> networking by enabling the <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Network_adapter">network adapter</a> to transfer data from the wire directly to application memory or from application memory directly to the wire, eliminating the need to copy data between application memory and the data buffers in the operating system. Such transfers require no work to be done by <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Central_processing_unit">CPUs</a>, <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/CPU_cache">caches</a>, or <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Context_switch">context switches</a>, and transfers continue in parallel with other system operations. This reduces latency in message transfer.</p>
<p>However, this strategy presents several problems related to the fact that the target node is not notified of the completion of the request (single-sided communications).</p>
</li>
<li><p>参考：<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Remote_direct_memory_access">https://en.wikipedia.org/wiki/Remote_direct_memory_access</a></p>
</li>
</ol>
<h2 id="TOE"><a href="#TOE" class="headerlink" title="TOE"></a>TOE</h2><ol>
<li>全称：TCP offload engine</li>
<li><strong>TCP offload engine</strong> (<strong>TOE</strong>) is a technology used in <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Network_interface_card">network interface cards</a> (NIC) to offload processing of the entire <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/TCP/IP">TCP/IP</a> stack to the network controller. It is primarily used with high-speed network interfaces, such as <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Gigabit_Ethernet">gigabit Ethernet</a> and <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/10_Gigabit_Ethernet">10 Gigabit Ethernet</a>, where processing overhead of the network stack becomes significant.将CPU耗费大量资源进行多层网络协议的数据包处理工作转移到网卡上，需要网卡支持，常见于高速以太网接口上。</li>
<li>参考：<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/TCP_offload_engine">https://en.wikipedia.org/wiki/TCP_offload_engine</a></li>
</ol>
<h2 id="U-Net"><a href="#U-Net" class="headerlink" title="U-Net"></a>U-Net</h2><ol>
<li>全称：User-Net networking</li>
<li>避免了数据从用户空间向内核空间的拷贝</li>
</ol>
<h2 id="Linux内核IO栈"><a href="#Linux内核IO栈" class="headerlink" title="Linux内核IO栈"></a>Linux内核IO栈</h2><p><img src="https://www.thomas-krenn.com/de/wikiDE/images/e/e0/Linux-storage-stack-diagram_v4.10.png" alt="img"></p>
<ol>
<li><p>用户空间和内核空间：32位系统的寻址空间为4G，操作系统的核心是内核，独立于普通的应用程序，可以访问受保护的内存空间，也有访问底层硬件设备的所有权限。操作系统讲虚拟空间划分为两部分，一部分为内核空间，一部分为用户空间。以Linux为例，较高的1g字节供内核使用，较低的3g字节供用户进程使用。</p>
</li>
<li><p>page cache缓存IO：在Linux的缓存IO机制中，操作系统会将IO的数据缓存在文件系统的页缓存中（page cache），数据会被先拷贝到操作系统的系统内核缓冲区中，然后才会从操作系统内核莪缓冲区拷贝到应用程序的地址空间。</p>
</li>
<li><p>网络IO模型的类别：</p>
<ol>
<li>同步（synchronous IO）</li>
<li>阻塞(blocking IO)</li>
<li>非阻塞(non-blocking IO)</li>
<li>多路复用(multiplexing IO)</li>
<li>信号驱动式(signal-dirven IO)</li>
<li>异步(asynchronous IO)</li>
</ol>
</li>
<li><p>Linux IO模型：（参考<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/486b0965c296%EF%BC%89">https://www.jianshu.com/p/486b0965c296）</a></p>
<p><img src="https://upload-images.jianshu.io/upload_images/2062729-a630f1d47b7ba148.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200" alt="img"></p>
<ol>
<li>同步阻塞：线程等kernal把数据从内核缓存拷贝到应用程序空间再处理</li>
<li>同步非阻塞：线程等数据的过程中去做其他事，但是会不断轮询（操作系统立刻返回，但是不一定会有数据）</li>
<li>IO多路复用：I/O多路复用技术<code>通过把多个I/O的阻塞复用到同一个select的阻塞上，从而使得系统在单线程的情况下可以同时处理多个客户端请求</code>。与传统的多线程/多进程模型比，<code>I/O多路复用的最大优势是系统开销小</code>，系统不需要创建新的额外进程或者线程，也不需要维护这些进程和线程的运行，降底了系统的维护工作量，节省了系统资源</li>
</ol>
</li>
</ol>
<h2 id="Linux开源存储全栈详解从Ceph-到容器存储（读书摘录）"><a href="#Linux开源存储全栈详解从Ceph-到容器存储（读书摘录）" class="headerlink" title="Linux开源存储全栈详解从Ceph 到容器存储（读书摘录）"></a>Linux开源存储全栈详解从Ceph 到容器存储（读书摘录）</h2><p>SPDK:Storage Performance Development Kit：</p>
<p>利用用户态的NVMe SSD，加速应用，如iSCSITarget或者NVMe-oF Target</p>
<ol>
<li>Linux远程存储服务</li>
</ol>
<p>“1）块设备服务<br>Linux常用的块设备服务主要基于iSCSI（Internet Small Computer System Interface）和NVMe over Fabrics。<br>iSCSI协议是SCSI（Small Computer System Interface）协议在以太网上的扩展，一台机器通过iSCSI协议即可通过传输控制协议/网际协议（Transmission Control Protocol / Internet Protocol，TCP/IP）为其他客户提供共享的存储设备。通过iSCSI协议被访问的设备称为Target，而访问Target的客户（Client）端称为Initiator。目前Linux主流的iSCSI Target软件是基于Kernel的Linux-IO，在用户态可以使用targetcli工具进行管理。当然还有其他开源的iSCSI Target，如STGT、SCST等。iSCSI常用的iSCSI Initiator工具包括iscsiadm命令和libiscsi、open-iscsi等软件开发包。<br>“NVMe over Fabrics则是NVMe协议在Fabrics上的延伸，主要的设计目的是让客户端能够更高效地访问远端的服务器上的NVMe盘。相对iSCSI协议，NVMe over Fabrics则完全是为高效访问基于NVMe协议的快速存储设备设计的，往往和带有RDMA（Remote Direct Memory Access）功能的以太网卡，或者光纤通道、Infiniband一起工作。”</p>
<p>摘录来自: 英特尔亚太研发有限公司. “Linux开源存储全栈详解从Ceph 到容器存储。” Apple Books. </p>
<p>“2）文件存储服务<br>基于不同的协议，在Linux中可以提供很多文件粒度的服务。例如，基于网络文件系统（Network File System，NFS）协议的服务，服务器端可以直接加载支持网络文件系统协议的daemon。网络文件系统协议最早是由Sun公司在1984年开发的，目前已经发展到了NFSv4。<br>另外还有基于CIFS（Common Internet File System）的samba服务，使用这个服务可以向Windows客户端共享文件。这样Windows客户端可以把一个网络地址挂载成本地一块磁盘。例如，一个地址为192.168.1.8的Linux服务器导出一个名为XYZ的目录，实际指“向/home/XYZ，那么客户端就可以使用\192.168.1.8\XYZ，但是需要通过samba服务器的用户验证。<br>此外，Linux还有其他文件服务，如基于文件传输协议（File Transfer Protocol，FTP）的服务，这里不再赘述。另外在Linux系统中，如果用户熟悉SSH（Secure Shell）的一些命令，可以使用scp命令在不同Linux客户端进行文件的复制，或使用wget命令进行文件的下载。这是普通用户常用的功能，但需要服务器端的支持，不过这些服务器端程序的实现一般都比较简单。”</p>
<p>摘录来自: 英特尔亚太研发有限公司. “Linux开源存储全栈详解从Ceph 到容器存储。” Apple Books. </p>
<ol start="2">
<li>存储服务的分类：（p61）<ol>
<li>块存储</li>
<li>文件存储</li>
<li>对象存储</li>
</ol>
</li>
<li>压缩方式：（比特级别的去重）<ol>
<li>霍夫曼编码（不太记得了</li>
<li>算数编码（没看明白</li>
</ol>
</li>
<li>重复数据删除（块级别的去重，8K）</li>
</ol>
<h2 id="SSD"><a href="#SSD" class="headerlink" title="SSD"></a>SSD</h2><ol>
<li>物理接口的演变：SATA, mSATA, SATAExpress, M.2,U.2</li>
<li>![image-20211130102958080](/Users/chenjiawei/Library/Application Support/typora-user-images/image-20211130102958080.png)</li>
</ol>
<h2 id="网络存储技术"><a href="#网络存储技术" class="headerlink" title="网络存储技术"></a>网络存储技术</h2><p>DAS，NAS，SAN, iSCSI </p>
<p>![image-20211130104641972](/Users/chenjiawei/Library/Application Support/typora-user-images/image-20211130104641972.png)</p>
<p>![image-20211130104951269](/Users/chenjiawei/Library/Application Support/typora-user-images/image-20211130104951269.png)</p>
<p>参考：p174</p>
<h3 id="内核提供的有关存储的系统调用"><a href="#内核提供的有关存储的系统调用" class="headerlink" title="内核提供的有关存储的系统调用"></a>内核提供的有关存储的系统调用</h3><p>read</p>
<p>write</p>
<p>open</p>
<p>进程地址范围分类：代码段，数据段，未初始化的全局变量段，堆栈</p>
<h4 id="mmap"><a href="#mmap" class="headerlink" title="mmap"></a>mmap</h4><p>“与read/write相比，使用mmap的方式对文件进行访问，带来的一个显著好处就是可以减少一次用户空间到内核空间的复制”</p>
<p>摘录来自: 英特尔亚太研发有限公司. “Linux开源存储全栈详解从Ceph 到容器存储。” Apple Books. </p>
<h4 id="虚拟文件系统主要有以下4个对象类型："><a href="#虚拟文件系统主要有以下4个对象类型：" class="headerlink" title="虚拟文件系统主要有以下4个对象类型："></a>虚拟文件系统主要有以下4个对象类型：</h4><ol>
<li>超级块：呆逼爱一个已安装的文件系统</li>
<li>索引节点：代表村塾社保上的一个实际物理文件，即“元数据”</li>
<li>目录项：描述了文件系统的层次结构</li>
<li>文件：代表已经被进程打开的文件，主要用于建立进程和文件之间的对应的关系</li>
</ol>
<h4 id="Btrfs文件系统的优点："><a href="#Btrfs文件系统的优点：" class="headerlink" title="Btrfs文件系统的优点："></a>Btrfs文件系统的优点：</h4><ol>
<li>B-Tree存储索引，提升查找效率，减少磁盘IO</li>
<li>基于extent的文件存储</li>
<li>动态索引节点分配</li>
<li>针对固态银盘优化</li>
<li>支持元数据和数据的校验</li>
<li>支持copy on write</li>
<li>子分区</li>
<li>软件磁盘阵列</li>
<li>压缩</li>
</ol>
<h4 id="Direct-IO"><a href="#Direct-IO" class="headerlink" title="Direct IO"></a>Direct IO</h4><p>省略使用Buffered UI中的内核缓冲区的使用，数据可以直接在用户空间好磁盘进行传输。</p>
<p>“Direct I/O最主要的优点就是通过减少内核缓冲区和用户空间的数据复制次数，降低文件读/写时所带来的CPU负载能力及内存带宽的占用率。”</p>
<p>摘录来自: 英特尔亚太研发有限公司. “Linux开源存储全栈详解从Ceph 到容器存储。” Apple Books. </p>
<h4 id="IO调度算法"><a href="#IO调度算法" class="headerlink" title="IO调度算法"></a>IO调度算法</h4><ol>
<li>noop：什么都不做，顺序调度</li>
<li>deadLine：电梯+避免饥饿（时间到了立马给它调度</li>
<li>CFQ（Completely Fair Queueing）：固定时间片内调度，超时重新排队</li>
</ol>
<h4 id="IO合并"><a href="#IO合并" class="headerlink" title="IO合并"></a>IO合并</h4><p>进行IO调度之前，每个线程都有私有的Plug队列蓄流，蓄流过程中会尝试合并Bio request。</p>
<p>“泄流的时候，进程本地Plug队列的request，会被加入电梯调度算法的队列中。当各个进程本地Plug队列里面的request被泄流时，进入的不是最终的设备驱动，而是一个电梯调度算法，request将进行再一次的排队。这个电梯调度算法的主要目的就是进一步合并request，把request对硬盘的访问顺序化，以及执行一定的QoS（Quality of Service）。”</p>
<p>摘录来自: 英特尔亚太研发有限公司. “Linux开源存储全栈详解从Ceph 到容器存储。” Apple Books. </p>
<h4 id="DRBD"><a href="#DRBD" class="headerlink" title="DRBD"></a>DRBD</h4><p>Distributed Relicated Block Device,主从复制，依靠tcpip协议</p>
<h2 id="存储加速"><a href="#存储加速" class="headerlink" title="存储加速"></a>存储加速</h2><h3 id="基于cpu"><a href="#基于cpu" class="headerlink" title="基于cpu"></a>基于cpu</h3><ol>
<li>超线程</li>
<li>SIMD（Single Instruction Multiple Data）一条指令同时处理多个数据集</li>
</ol>
<h3 id="基于协处理器或其他硬件"><a href="#基于协处理器或其他硬件" class="headerlink" title="基于协处理器或其他硬件"></a>基于协处理器或其他硬件</h3><ol>
<li>FPGA</li>
<li>存储协议转换加速</li>
<li>特殊存储接口加速</li>
</ol>
<h3 id="智能网卡加速"><a href="#智能网卡加速" class="headerlink" title="智能网卡加速"></a>智能网卡加速</h3><p>把一部分cpu的工作放到网卡上来完成</p>
<h2 id="数据保护"><a href="#数据保护" class="headerlink" title="数据保护"></a>数据保护</h2><ol>
<li><p>RAID 冗余磁盘阵列</p>
</li>
<li><p>纠删码：</p>
<ol>
<li><p>“纠删码可以看作RAID5和RAID6的超集，k +m 纠删码如图4-8所示，其基本思想是将k 块原始的数据元素通过一定的计算，得到m 块冗余元素（校验块）。对于这k +m 块的元素，当其中任意m 块元素出错（包括原始数据和冗余数据）时，均可以通过对应的重构算法恢复出原来的k 块数据。生成校验的过程被称为编码，恢复丢失数据块的过程被称为解码。”</p>
<p>摘录来自: 英特尔亚太研发有限公司. “Linux开源存储全栈详解从Ceph 到容器存储。” Apple Books. </p>
</li>
</ol>
</li>
</ol>
<h2 id="数据安全"><a href="#数据安全" class="headerlink" title="数据安全"></a>数据安全</h2><p>hash用于去重，加密和数据一致性验证</p>
<ol>
<li>MD5</li>
<li>SHA1</li>
<li>SHA2</li>
<li>SHA3</li>
</ol>
<h2 id="数据完整性："><a href="#数据完整性：" class="headerlink" title="数据完整性："></a>数据完整性：</h2><p>循环冗余校验</p>
<h2 id="存储新能软件加速库"><a href="#存储新能软件加速库" class="headerlink" title="存储新能软件加速库"></a>存储新能软件加速库</h2><p>SPDK：用户态、异步、轮询</p>
<p>P291</p>
<h2 id="一致性HASH"><a href="#一致性HASH" class="headerlink" title="一致性HASH"></a>一致性HASH</h2><p>“而一致性哈希算法的出现解决了扩容带来的数据迁移问题，甚至能够接近理论上的最优解。即在存有k 个数据块的n 个节点存储系统中，再增加m 个节点只会导致平均k ×m /（n + m ）个数据块从n 个节点向m 个节点迁移，而非所有k 个数据块全部重新分布。这似乎已经非常理想了，但一致性哈希算法的模型仍然过于简单，不足以应对存储系统中出现的各种可能的情况。最突出的就是数据失效问题，因为所有用户数据都是均匀分布在系统中的，所以一个设备的失效将会影响所有用户数据的完整性。而且由于一致性哈希算法没有感知存储节点的实际物理分布的能力，如何合理地控制数据的失效域更是无从谈起。”</p>
<p>摘录来自: 英特尔亚太研发有限公司. “Linux开源存储全栈详解从Ceph 到容器存储。” Apple Books. </p>
<h2 id="CRUSH算法"><a href="#CRUSH算法" class="headerlink" title="CRUSH算法"></a>CRUSH算法</h2><ol>
<li>元数据：<ol>
<li>CRUSH Map：保存了汲取中所有设备活OSF存储节点的位置信息和权重设置</li>
<li>OSDMap：保存了各个OSD的运行时状态，让CRUSH感知存储节点的实效、删除和加入情况</li>
<li>CRUSH Rule</li>
</ol>
</li>
</ol>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/12/31/How-to-fix-lib-so-file-not-found-problem/" rel="prev" title="How to fix lib.so file not found problem">
      <i class="fa fa-chevron-left"></i> How to fix lib.so file not found problem
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/01/04/Distributed-protocol/" rel="next" title="Distributed protocol">
      Distributed protocol <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#RAID%E7%9A%84%E5%88%86%E7%B1%BB%EF%BC%9A"><span class="nav-number">1.</span> <span class="nav-text">RAID的分类：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HDD"><span class="nav-number">2.</span> <span class="nav-text">HDD</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SATA-SSD"><span class="nav-number">3.</span> <span class="nav-text">SATA SSD</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#NVMe%EF%BC%88Non-Volatile-Memory-express%EF%BC%89"><span class="nav-number">4.</span> <span class="nav-text">NVMe（Non-Volatile Memory express）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PMem"><span class="nav-number">5.</span> <span class="nav-text">PMem</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ACID%E7%90%86%E8%AE%BA"><span class="nav-number">6.</span> <span class="nav-text">ACID理论:</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Atomicity"><span class="nav-number">6.1.</span> <span class="nav-text">Atomicity</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Consistency"><span class="nav-number">6.2.</span> <span class="nav-text">Consistency</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Isolation"><span class="nav-number">6.3.</span> <span class="nav-text">Isolation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Durability"><span class="nav-number">6.4.</span> <span class="nav-text">Durability</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CAP%E7%90%86%E8%AE%BA%EF%BC%9A"><span class="nav-number">7.</span> <span class="nav-text">CAP理论：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BASE%E7%90%86%E8%AE%BA%EF%BC%9A"><span class="nav-number">8.</span> <span class="nav-text">BASE理论：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SDS"><span class="nav-number">9.</span> <span class="nav-text">SDS:</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DAS%E7%9B%B4%E8%BF%9E%E5%BC%8F%E5%AD%98%E5%82%A8%EF%BC%9A"><span class="nav-number">10.</span> <span class="nav-text">DAS直连式存储：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#NAS%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%E5%AD%98%E5%82%A8"><span class="nav-number">11.</span> <span class="nav-text">NAS网络连接存储</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SAN%E5%AD%98%E5%82%A8%E5%8C%BA%E5%9F%9F%E7%BD%91%E7%BB%9C"><span class="nav-number">12.</span> <span class="nav-text">SAN存储区域网络</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SCSI%E5%B0%8F%E5%9E%8B%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%8E%A5%E5%8F%A3"><span class="nav-number">13.</span> <span class="nav-text">SCSI小型计算机系统接口</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SAS"><span class="nav-number">14.</span> <span class="nav-text">SAS</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AHCI"><span class="nav-number">15.</span> <span class="nav-text">AHCI</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#iSCSI"><span class="nav-number">16.</span> <span class="nav-text">iSCSI</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#NVME-OF"><span class="nav-number">17.</span> <span class="nav-text">NVME-OF</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#RDMA"><span class="nav-number">18.</span> <span class="nav-text">RDMA</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TOE"><span class="nav-number">19.</span> <span class="nav-text">TOE</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#U-Net"><span class="nav-number">20.</span> <span class="nav-text">U-Net</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Linux%E5%86%85%E6%A0%B8IO%E6%A0%88"><span class="nav-number">21.</span> <span class="nav-text">Linux内核IO栈</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Linux%E5%BC%80%E6%BA%90%E5%AD%98%E5%82%A8%E5%85%A8%E6%A0%88%E8%AF%A6%E8%A7%A3%E4%BB%8ECeph-%E5%88%B0%E5%AE%B9%E5%99%A8%E5%AD%98%E5%82%A8%EF%BC%88%E8%AF%BB%E4%B9%A6%E6%91%98%E5%BD%95%EF%BC%89"><span class="nav-number">22.</span> <span class="nav-text">Linux开源存储全栈详解从Ceph 到容器存储（读书摘录）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SSD"><span class="nav-number">23.</span> <span class="nav-text">SSD</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E5%AD%98%E5%82%A8%E6%8A%80%E6%9C%AF"><span class="nav-number">24.</span> <span class="nav-text">网络存储技术</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E6%A0%B8%E6%8F%90%E4%BE%9B%E7%9A%84%E6%9C%89%E5%85%B3%E5%AD%98%E5%82%A8%E7%9A%84%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8"><span class="nav-number">24.1.</span> <span class="nav-text">内核提供的有关存储的系统调用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#mmap"><span class="nav-number">24.1.1.</span> <span class="nav-text">mmap</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%99%9A%E6%8B%9F%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E4%B8%BB%E8%A6%81%E6%9C%89%E4%BB%A5%E4%B8%8B4%E4%B8%AA%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B%EF%BC%9A"><span class="nav-number">24.1.2.</span> <span class="nav-text">虚拟文件系统主要有以下4个对象类型：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Btrfs%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%BC%98%E7%82%B9%EF%BC%9A"><span class="nav-number">24.1.3.</span> <span class="nav-text">Btrfs文件系统的优点：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Direct-IO"><span class="nav-number">24.1.4.</span> <span class="nav-text">Direct IO</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#IO%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="nav-number">24.1.5.</span> <span class="nav-text">IO调度算法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#IO%E5%90%88%E5%B9%B6"><span class="nav-number">24.1.6.</span> <span class="nav-text">IO合并</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DRBD"><span class="nav-number">24.1.7.</span> <span class="nav-text">DRBD</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%98%E5%82%A8%E5%8A%A0%E9%80%9F"><span class="nav-number">25.</span> <span class="nav-text">存储加速</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8Ecpu"><span class="nav-number">25.1.</span> <span class="nav-text">基于cpu</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8%E6%88%96%E5%85%B6%E4%BB%96%E7%A1%AC%E4%BB%B6"><span class="nav-number">25.2.</span> <span class="nav-text">基于协处理器或其他硬件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%99%BA%E8%83%BD%E7%BD%91%E5%8D%A1%E5%8A%A0%E9%80%9F"><span class="nav-number">25.3.</span> <span class="nav-text">智能网卡加速</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E4%BF%9D%E6%8A%A4"><span class="nav-number">26.</span> <span class="nav-text">数据保护</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%AE%89%E5%85%A8"><span class="nav-number">27.</span> <span class="nav-text">数据安全</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%AE%8C%E6%95%B4%E6%80%A7%EF%BC%9A"><span class="nav-number">28.</span> <span class="nav-text">数据完整性：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%98%E5%82%A8%E6%96%B0%E8%83%BD%E8%BD%AF%E4%BB%B6%E5%8A%A0%E9%80%9F%E5%BA%93"><span class="nav-number">29.</span> <span class="nav-text">存储新能软件加速库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E8%87%B4%E6%80%A7HASH"><span class="nav-number">30.</span> <span class="nav-text">一致性HASH</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CRUSH%E7%AE%97%E6%B3%95"><span class="nav-number">31.</span> <span class="nav-text">CRUSH算法</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Javie Chen</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">10</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Javie Chen</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
